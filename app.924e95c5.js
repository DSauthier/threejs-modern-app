!function(e){function t(t){for(var n,i,c=t[0],u=t[1],s=t[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&f.push(o[i][0]),o[i]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);for(l&&l(t);f.length;)f.shift()();return a.push.apply(a,s||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],n=!0,c=1;c<r.length;c++){var u=r[c];0!==o[u]&&(n=!1)}n&&(a.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},o={0:0},a=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;a.push([215,1]),r()}({197:function(e,t){},215:function(e,t,r){"use strict";r.r(t);r(72),r(56),r(82),r(83);var n=r(0),o=r(44),a=r.n(o),i=r(32),c=(r(59),r(88),r(90),r(92),r(29),r(97),r(147),r(98),r(66),r(99),r(100),r(101),r(31),r(42),r(103),r(68),r(152),r(124)),u=r.n(c),s=r(125),l=r.n(s),p=r(126),f=r.n(p),d=r(127),h=r.n(d),v=r(128),b=r.n(v),w=r(129),y=r(136),g=r(130);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){j(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function k(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var E=0;function S(e){return"__private_"+E+++"_"+e}var C=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.background,i=void 0===o?"#000":o,c=r.backgroundAlpha,s=void 0===c?1:c,p=r.fov,f=void 0===p?45:p,d=r.near,v=void 0===d?.01:d,m=r.far,j=void 0===m?100:m,P=x(r,["background","backgroundAlpha","fov","near","far"]);if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,D,{writable:!0,value:[]}),Object.defineProperty(this,R,{writable:!0,value:new n.zb}),Object.defineProperty(this,T,{writable:!0,value:void 0}),Object.defineProperty(this,_,{writable:!0,value:void 0}),this.resize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width,n=void 0===r?window.innerWidth:r,o=e.height,a=void 0===o?window.innerHeight:o,i=e.pixelRatio,c=void 0===i?Math.min(t.maxPixelRatio,window.devicePixelRatio):i;return t.width=n,t.height=a,t.pixelRatio=c,t.renderer.getPixelRatio()!==c&&t.renderer.setPixelRatio(c),t.renderer.setSize(n,a),t.camera.isPerspectiveCamera&&(t.camera.aspect=n/a),t.camera.updateProjectionMatrix(),t.composer&&t.composer.setSize(c*n,c*a),t.scene.traverse(function(e){"function"==typeof e.resize&&e.resize({width:n,height:a,pixelRatio:c})}),t.draw(),t},this.saveScreenshot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.width,n=void 0===r?2560:r,o=e.height,a=void 0===o?1440:o,i=e.fileName,c=void 0===i?"image.png":i;t.resize({width:n,height:a,pixelRatio:1}),t.draw();var u=t.canvas.toDataURL("image/png");t.resize(),t.draw(),A(c,u)},this.update=function(e,r){return t.orbitControls&&(t.orbitControls.update(),t.camera.up.fromArray(t.orbitControls.up),t.camera.position.fromArray(t.orbitControls.position),k(t,R)[R].fromArray(t.orbitControls.target),t.camera.lookAt(k(t,R)[R])),t.scene.traverse(function(t){"function"==typeof t.update&&t.update(e,r)}),t.world&&(t.world.step(e),t.world.bodies.forEach(function(t){"function"==typeof t.update&&t.update(e,r)})),t.tween&&t.tween.update(),k(t,D)[D].forEach(function(t){return t(e,r)}),t},this.draw=function(){return t.composer?(t.composer.passes.forEach(function(e,t,r){var n=t===r.length-1;e.renderToScreen=!!n}),t.composer.render()):t.renderer.render(t.scene,t.camera),t},this.start=function(){if(null===k(t,T)[T])return k(t,T)[T]=window.requestAnimationFrame(t.animate),t.isRunning=!0,t},this.stop=function(){if(null!==k(t,T)[T])return window.cancelAnimationFrame(k(t,T)[T]),k(t,T)[T]=null,t.isRunning=!1,t},this.animate=function(){if(t.isRunning){window.requestAnimationFrame(t.animate),t.stats&&t.stats.begin();var e=performance.now(),r=Math.min(t.maxDeltaTime,(e-k(t,_)[_])/1e3);t.time+=r,k(t,_)[_]=e,t.update(r,t.time),t.draw(),t.stats&&t.stats.end()}},this.traverse=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];t.scene.traverse(function(t){"function"==typeof t[e]&&t[e].apply(t,n)})},this.renderer=new n.Eb(O({antialias:!0,alpha:!1,preserveDrawingBuffer:!0,failIfMajorPerformanceCaveat:!0},P)),this.renderer.sortObjects=!1,this.canvas=this.renderer.domElement,this.renderer.setClearColor(i,s),this.maxPixelRatio=P.maxPixelRatio||2,this.maxDeltaTime=P.maxDeltaTime||1/30,this.camera=new n.X(f,1,v,j),this.scene=new n.lb,this.gl=this.renderer.getContext(),this.time=0,this.isRunning=!1,k(this,_)[_]=performance.now(),k(this,T)[T]=null,window.addEventListener("resize",this.resize),window.addEventListener("orientationchange",this.resize),this.resize(),this.touchHandler=l()(this.canvas,{target:this.canvas,filtered:!0}),this.touchHandler.on("start",function(e,r){return t.traverse("onPointerDown",e,r)}),this.touchHandler.on("move",function(e,r){return t.traverse("onPointerMove",e,r)}),this.touchHandler.on("end",function(e,r){return t.traverse("onPointerUp",e,r)}),P.postprocessing&&(this.composer=new y.a(this.renderer),this.composer.addPass(new g.a(this.scene,this.camera))),P.orbitControls&&(this.orbitControls=u()(O({element:this.canvas,parent:window,distance:5},P.orbitControls instanceof Object?P.orbitControls:{})),this.camera.position.fromArray(this.orbitControls.position),this.camera.lookAt((new n.zb).fromArray(this.orbitControls.target))),P.world&&(this.world=P.world),P.tween&&(this.tween=P.tween),P.showFps&&(this.stats=new h.a,this.stats.showPanel(0),document.body.appendChild(this.stats.dom)),P.controls){var E=a()(P.controls);if(this.controls=P.hideControls?E:b()(E),P.closeControls){var S=document.querySelector('[class*="controlPanel"]');S.style.display="none",document.querySelector('[class*="controlPanel"] button').click(),S.style.display="block"}}var C=Object(w.getGPUTier)({glContext:this.renderer.getContext()});this.gpu={name:C.type,tier:Number(C.tier.slice(-1)),isMobile:C.tier.toLowerCase().includes("mobile")}}var t,r,o;return t=e,(r=[{key:"onUpdate",value:function(e){k(this,D)[D].push(e)}}])&&P(t.prototype,r),o&&P(t,o),e}(),D=S("updateListeners"),R=S("tmpTarget"),T=S("rafID"),_=S("lastTime");function A(e,t){var r=f()(t),n=document.createElement("a");n.download=e,n.href=window.URL.createObjectURL(r),n.onclick=setTimeout(function(){window.URL.revokeObjectURL(r),n.removeAttribute("href")},0),n.click()}r(113),r(114),r(115),r(182),r(183),r(184),r(117),r(70),r(121),r(71);var L=r(131),U=r.n(L),M=r(46),z=r.n(M),q=r(45),F=r(132);r(122),r(199);function B(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function G(e,t){return I.apply(this,arguments)}function I(){var e;return e=regeneratorRuntime.mark(function e(t,r){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(o=new n.sb).name=t,o.encoding=r.encoding||n.D,H(t,o,r),e.prev=4,e.next=7,Object(q.a)(t,{crossorigin:"anonymous"});case 7:return a=e.sent,o.image=a,o.needsUpdate=!0,r.renderer&&r.renderer.initTexture(o),e.abrupt("return",o);case 14:throw e.prev=14,e.t0=e.catch(4),new Error("Could not load texture ".concat(t));case 17:case"end":return e.stop()}},e,null,[[4,14]])}),(I=function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){B(a,n,o,i,c,"next",e)}function c(e){B(a,n,o,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function H(e,t,r){if("boolean"==typeof r.flipY&&(t.flipY=r.flipY),void 0!==r.mapping&&(t.mapping=r.mapping),void 0!==r.format)t.format=r.format;else{var o=e.search(/\.(jpg|jpeg)$/)>0||0===e.search(/^data:image\/jpeg/);t.format=o?n.hb:n.eb}r.repeat&&t.repeat.copy(r.repeat),t.wrapS=r.wrapS||n.f,t.wrapT=r.wrapT||n.f,t.minFilter=r.minFilter||n.F,t.magFilter=r.magFilter||n.E,t.generateMipmaps=!1!==r.generateMipmaps}r(201);var $=r(133),V=r.n($),Y=r(137),N=r(134),J=r(135);function Q(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function W(e,t){return X.apply(this,arguments)}function X(){var e;return e=regeneratorRuntime.mark(function e(t,r){var o,a,i,c,u,s,l,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.renderer){e.next=3;break}throw new Error("PBR Map requires renderer to passed in the options for ".concat(t,"!"));case 3:if(!r.equirectangular){e.next=13;break}return e.next=6,G(t,{renderer:o});case 6:return a=e.sent,i=new n.Db(1024,1024).fromEquirectangularTexture(o,a),(c=i.texture).renderTarget=i,a.dispose(),a.image.data=null,e.abrupt("return",K(c,r));case 13:if(u=t,s=r.hdr,l=s?".hdr":".png",f="".concat(u.replace(/\/$/,""),"/"),d=l,p=["".concat(f,"px").concat(d),"".concat(f,"nx").concat(d),"".concat(f,"py").concat(d),"".concat(f,"ny").concat(d),"".concat(f,"pz").concat(d),"".concat(f,"nz").concat(d)],!s){e.next=19;break}return e.abrupt("return",new Promise(function(e,t){(new Y.a).load(n.xb,p,function(t){return e(K(t,r))},null,function(){return t(new Error("Could not load PBR map: ".concat(u)))})}));case 19:return e.abrupt("return",new Promise(function(e,t){(new n.j).load(p,function(t){t.encoding=n.ib,e(K(t,r))},null,function(){return t(new Error("Could not load PBR map: ".concat(u)))})}));case 20:case"end":return e.stop()}var f,d},e)}),(X=function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){Q(a,n,o,i,c,"next",e)}function c(e){Q(a,n,o,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}function K(e,t){if(t.pbr||"number"==typeof t.level){var r=new N.a(e);if(r.update(t.renderer),t.pbr){var n=new J.a(r.cubeLods);n.update(t.renderer),e=n.CubeUVRenderTarget.texture,n.dispose()}else{var o=V()(Math.floor(t.level),0,r.cubeLods.length);e=r.cubeLods[o].texture}r.dispose()}return t.mapping&&(e.mapping=t.mapping),e}function Z(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function ee(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function te(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){ee(a,n,o,i,c,"next",e)}function c(e){ee(a,n,o,i,c,"throw",e)}i(void 0)})}}function re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?re(Object(r),!0).forEach(function(t){oe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ce(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}var ue=0;function se(e){return"__private_"+ue+++"_"+e}var le=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,pe,{writable:!0,value:[]}),Object.defineProperty(this,fe,{writable:!0,value:{}}),Object.defineProperty(this,de,{writable:!0,value:[]}),Object.defineProperty(this,he,{writable:!0,value:10}),Object.defineProperty(this,ve,{writable:!0,value:[]}),this.get=function(e){if(!e)throw new TypeError("Must specify an URL for AssetManager.get()");if(!(e in ce(t,fe)[fe]))throw new Error("The asset ".concat(e," is not in the loaded files."));return ce(t,fe)[fe][e]}}var t,r,n,o,a,i;return t=e,(r=[{key:"addProgressListener",value:function(e){if("function"!=typeof e)throw new TypeError("onProgress must be a function");ce(this,de)[de].push(e)}},{key:"queue",value:function(e){var t=e.url,r=e.type,n=ae(e,["url","type"]);if(!t)throw new TypeError("Must specify a URL or opt.url for AssetManager.queue()");return this._getQueued(t)||ce(this,pe)[pe].push(ne({url:t,type:r||this._extractType(t)},n)),t}},{key:"_getQueued",value:function(e){return ce(this,pe)[pe].find(function(t){return t.url===e})}},{key:"_extractType",value:function(e){var t=e.slice(e.lastIndexOf("."));switch(!0){case/\.(gltf|glb)$/i.test(t):return"gltf";case/\.json$/i.test(t):return"json";case/\.svg$/i.test(t):return"svg";case/\.(jpe?g|png|gif|bmp|tga|tif)$/i.test(t):return"image";case/\.(wav|mp3)$/i.test(t):return"audio";case/\.(mp4|webm|ogg|ogv)$/i.test(t):return"video";default:throw new Error("Could not load ".concat(e,", unknown file extension!"))}}},{key:"loadSingle",value:(i=te(regeneratorRuntime.mark(function e(t){var r,n,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.renderer,n=ae(t,["renderer"]),r){e.next=3;break}throw new Error("You must provide a renderer to the loadSingle function.");case 3:return e.prev=3,o=Date.now(),e.next=7,this._loadItem(ne({renderer:r},n));case 7:return ce(this,fe)[fe][n.url]=e.sent,window.DEBUG&&console.log("\ud83d\udce6 Loaded single asset %c".concat(n.url,"%c in ").concat(z()(Date.now()-o)),"color:blue","color:black"),e.abrupt("return",n.url);case 12:e.prev=12,e.t0=e.catch(3),delete ce(this,fe)[fe][n.url],console.error("\ud83d\udce6  Could not load ".concat(n.url,":\n").concat(e.t0));case 16:case"end":return e.stop()}},e,this,[[3,12]])})),function(e){return i.apply(this,arguments)})},{key:"load",value:(a=te(regeneratorRuntime.mark(function e(t){var r,n,o,a,i,c=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.renderer){e.next=3;break}throw new Error("You must provide a renderer to the load function.");case 3:if(n=ce(this,pe)[pe].slice(),ce(this,pe)[pe].length=0,0!==(o=n.length)){e.next=9;break}return setTimeout(function(){return ce(c,de)[de].forEach(function(e){return e(1)})},0),e.abrupt("return");case 9:return a=Date.now(),e.next=12,U()(n,function(){var e=te(regeneratorRuntime.mark(function e(t,n){var a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Date.now(),e.next=4,c._loadItem(ne({renderer:r},t));case 4:ce(c,fe)[fe][t.url]=e.sent,window.DEBUG&&c.log("Loaded %c".concat(t.url,"%c in ").concat(z()(Date.now()-a)),"color:blue","color:black"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),c.logError("Skipping ".concat(t.url," from asset loading:\n").concat(e.t0));case 11:i=(n+1)/o,ce(c,de)[de].forEach(function(e){return e(i)});case 13:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,r){return e.apply(this,arguments)}}(),{concurrency:ce(this,he)[he]});case 12:window.DEBUG&&(i=ce(this,ve)[ve].filter(function(e){return"error"===e.type}),this.groupLog("\ud83d\udce6 Assets loaded in ".concat(z()(Date.now()-a)," \u23f1 ").concat(i.length>0?"%c \u26a0\ufe0f Skipped ".concat(i.length," asset").concat(i.length>1?"s":""," "):""),i.length>0?"color:white;background:red;":""));case 13:case"end":return e.stop()}},e,this)})),function(e){return a.apply(this,arguments)})},{key:"_loadItem",value:(o=te(regeneratorRuntime.mark(function e(t){var r,n,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.url,n=t.type,o=t.renderer,a=ae(t,["url","type","renderer"]),!(r in ce(this,fe)[fe])){e.next=3;break}return e.abrupt("return",ce(this,fe)[fe][r]);case 3:e.t0=n,e.next="gltf"===e.t0?6:"json"===e.t0?7:"env-map"===e.t0?8:"svg"===e.t0?9:"image"===e.t0?9:"texture"===e.t0?10:"audio"===e.t0?11:"video"===e.t0?12:13;break;case 6:return e.abrupt("return",new Promise(function(e,t){(new F.a).load(r,e,null,function(e){return t(new Error("Could not load GLTF asset ".concat(r,":\n").concat(e)))})}));case 7:return e.abrupt("return",fetch(r).then(function(e){return e.json()}));case 8:return e.abrupt("return",W(r,ne({renderer:o},a)));case 9:return e.abrupt("return",Object(q.a)(r,{crossorigin:"anonymous"}));case 10:return e.abrupt("return",G(r,ne({renderer:o},a)));case 11:return e.abrupt("return",fetch(r).then(function(e){return e.arrayBuffer()}));case 12:return e.abrupt("return",fetch(r).then(function(e){return e.blob()}));case 13:throw new Error("Could not load ".concat(r,", the type ").concat(n," is unknown!"));case 14:case"end":return e.stop()}},e,this)})),function(e){return o.apply(this,arguments)})},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ce(this,ve)[ve].push({type:"log",text:t})}},{key:"logError",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ce(this,ve)[ve].push({type:"error",text:t})}},{key:"groupLog",value:function(){var e;(e=console).groupCollapsed.apply(e,arguments),ce(this,ve)[ve].forEach(function(e){var t;(t=console)[e.type].apply(t,Z(e.text))}),console.groupEnd(),ce(this,ve)[ve].length=0}}])&&ie(t.prototype,r),n&&ie(t,n),e}(),pe=se("queue"),fe=se("cache"),de=se("onProgressListeners"),he=se("asyncConcurrency"),ve=se("logs"),be=new le;r(213),r(214);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function me(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xe=be.queue({url:"assets/suzanne.gltf",type:"gltf"}),Pe=be.queue({url:"assets/spotty-metal/albedo.jpg",type:"texture"}),ke=be.queue({url:"assets/spotty-metal/metalness.jpg",type:"texture"}),Ee=be.queue({url:"assets/spotty-metal/roughness.jpg",type:"texture"}),Se=be.queue({url:"assets/spotty-metal/normal.jpg",type:"texture"}),Ce=be.queue({url:"assets/ouside-afternoon-blurred-hdr.jpg",type:"env-map",equirectangular:!0}),De=function(e){function t(e,r){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(o=me(this,Oe(t).call(this,r))).webgl=e,o.options=r;var a=be.get(xe).scene.clone(),i=new n.P({map:be.get(Pe),metalnessMap:be.get(ke),roughnessMap:be.get(Ee),normalMap:be.get(Se),normalScale:new n.yb(2,2),envMap:be.get(Ce),roughness:.5,metalness:.8});return a.traverse(function(e){e.isMesh&&(e.material=i)}),a.scale.multiplyScalar(1.2),o.add(a),o.webgl.scene.background=be.get(Ce).renderTarget,o}var r,o,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(t,n["r"]),r=t,(o=[{key:"onPointerDown",value:function(e,t){var r=ye(t,2),o=r[0],a=r[1],i=(new n.yb).set(o/this.webgl.width*2-1,-a/this.webgl.height*2+1),c=new n.jb;c.setFromCamera(i,this.webgl.camera);var u=c.intersectObject(this,!0);console.log(u.length>0?"Hit ".concat(u[0].object.name,"!"):"No hit")}},{key:"onPointerMove",value:function(e,t){var r=ye(t,2);r[0],r[1]}},{key:"onPointerUp",value:function(e,t){var r=ye(t,2);r[0],r[1]}},{key:"update",value:function(e,t){this.rotation.y+=e*this.webgl.controls.angularVelocity}}])&&ge(r.prototype,o),a&&ge(r,a),t}();window.DEBUG=window.location.search.includes("debug");var Re=new C({canvas:document.querySelector("#app"),alpha:!0,background:"#000",backgroundAlpha:1,postprocessing:!0,showFps:window.DEBUG,orbitControls:window.DEBUG&&{distance:5},controls:{angularVelocity:a.a.Slider(.5,{label:"Angular Velocity",min:.1,max:30,step:.1})},hideControls:!window.DEBUG});window.DEBUG&&(window.webgl=Re),Re.canvas.style.visibility="hidden",be.load({renderer:Re.renderer}).then(function(){Re.canvas.style.visibility="",Re.camera.position.set(0,0,5),Re.scene.suzanne=new De(Re),Re.scene.add(Re.scene.suzanne),function(e){var t=new n.t(16777215,16777215,.6);t.color.setHSL(.6,1,.6),t.groundColor.setHSL(.095,1,.75),t.position.set(0,50,0),e.scene.add(t);var r=new n.m(16777215,1);r.color.setHSL(.1,1,.95),r.position.set(3,5,1),r.position.multiplyScalar(50),e.scene.add(r)}(Re);var e,t,r=new i.a({vertexShader:"#define GLSLIFY 1\nvarying vec2 vUv;\n\nvoid main() {\n  vUv = uv;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n",fragmentShader:"#define GLSLIFY 1\nfloat vignette(vec2 uv, float radius, float smoothness) {\n\tfloat diff = radius - distance(uv, vec2(0.5, 0.5));\n\treturn smoothstep(-smoothness, smoothness, diff);\n}\n\nuniform sampler2D tDiffuse;\nvarying vec2 vUv;\n\nvoid main() {\n  vec4 texColor = texture2D(tDiffuse, vUv);\n\n  float vignetteValue = vignette(vUv, 0.5, 0.5);\n  texColor.rgb *= vignetteValue;\n\n  gl_FragColor = texColor;\n}\n",uniforms:{tDiffuse:{type:"t",value:new n.sb}}});Re.composer.addPass(r),window.DEBUG&&(e=Re,(t=document.createElement("div")).style.position="fixed",t.style.bottom=0,t.style.right=0,t.style.background="tomato",t.style.cursor="pointer",t.style.padding="8px 16px",t.style.color="white",t.style.fontSize="24px",t.textContent="Save screenshot",document.body.appendChild(t),t.addEventListener("click",e.saveScreenshot)),Re.start(),Re.draw()})}});
//# sourceMappingURL=app.924e95c5.js.map